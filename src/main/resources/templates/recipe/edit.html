<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body>

<div th:replace="fragments :: navigation"></div>

<form method="post" th:object="${recipe}">
<!--    BASE RECIPE INFO-->
<fieldset>
    <label>Name</label>
    <input type="text" name="recName" th:value="${recipe.name}"/>
    <span th:errors="${recipe.name}"></span>

    <label>Description</label>
    <input th:field="${recipe.description}"/>
    <span th:errors="${recipe.description}"></span>

</fieldset>

<!--    CATEGORIES-->
<fieldset>
    <label>Category</label>
        <th:block th:each="category : ${categories}">
            <label th:text="${category.name}"></label>
            <input type="checkbox"
                   th:value="${category.id}"
                   th:field="${recipe.categories}"/>
        </th:block>
    <span th:errors="${recipe.categories}"></span>
</fieldset>


<!--    INGREDIENTS-->
<fieldset>
    <label>Ingredient</label>
    <th:block th:each="ingredient : ${ingredients}">
        <input th:field="${ingredient.name}"/>
<!--        <span th:errors="${ingredient.name}"></span>-->

        <label>Amount</label>
        <input th:field="${ingredient.amount}"/>
<!--        <span th:errors="${ingredient.amount}"></span>-->

        <label>Unit</label>
            <select  name="unitId">
                <option th:each="unit : ${units}"
                        th:text="${unit.abbreviation}"
                        th:value="${unit.id}"
                        th:selected="${ingredient.unit.id}"></option>
            </select>

        <input type="hidden" th:value="${ingredient.id}" name="ingredientId"/>
    </th:block>
</fieldset>

<!--    DIRECTIONS-->
<!--<fieldset>-->
<!--    <label>Directions</label>-->
<!--    <ol th:each="direction : ${recipe.getDirections()}">-->
<!--        <li><input th:field="${direction.instruction}"/></li>-->
<!--&lt;!&ndash;        <span th:errors="${direction.instruction}"></span>&ndash;&gt;-->
<!--    </ol>-->
<!--</fieldset>-->

<input type="hidden" th:value="${recipe.id}" name="eventId"/>

<input type="submit" value="Save Changes"/>

</form>

</body>
</html>